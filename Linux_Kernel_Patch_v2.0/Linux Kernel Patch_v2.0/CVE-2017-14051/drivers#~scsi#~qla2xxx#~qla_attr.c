diff --git a/drivers/scsi/qla2xxx/qla_attr.c b/drivers/scsi/qla2xxx/qla_attr.c
index 75c4b312645e..9ce28c4f9812 100644
--- a/drivers/scsi/qla2xxx/qla_attr.c
+++ b/drivers/scsi/qla2xxx/qla_attr.c
@@ -318,6 +318,8 @@
 qla2x00_sysfs_write_optrom_ctl(struct file *filp, struct kobject *kobj,
+	if (size > ha->optrom_size - start)
+		size = ha->optrom_size - start;
@@ -343,8 +345,7 @@
 qla2x00_sysfs_write_optrom_ctl(struct file *filp, struct kobject *kobj,
-		ha->optrom_region_size = start + size > ha->optrom_size ?
-		    ha->optrom_size - start : size;
+		ha->optrom_region_size = start + size;
@@ -417,8 +418,7 @@
 qla2x00_sysfs_write_optrom_ctl(struct file *filp, struct kobject *kobj,
-		ha->optrom_region_size = start + size > ha->optrom_size ?
-		    ha->optrom_size - start : size;
+		ha->optrom_region_size = start + size;
