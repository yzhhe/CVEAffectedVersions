
@@ -1137,6 +1137,12 @@ void __init setup_arch(char **cmdline_p)
 /* Allocate bigger log buffer */
 setup_log_buf(1);
 
+#ifdef CONFIG_EFI_SECURE_BOOT_SECURELEVEL
+	if (boot_params.secure_boot) {
+		set_securelevel(1);
+	}
+#endif
+
 reserve_initrd();
 
 #if defined(CONFIG_ACPI) && defined(CONFIG_BLK_DEV_INITRD)
@@ -1147,12 +1153,6 @@ void __init setup_arch(char **cmdline_p)
 
 io_delay_init();
 
-#ifdef CONFIG_EFI_SECURE_BOOT_SECURELEVEL
-	if (boot_params.secure_boot) {
-		set_securelevel(1);
-	}
-#endif
-
 /*
 	 * Parse the ACPI tables for possible boot-time SMP configuration.
  */

