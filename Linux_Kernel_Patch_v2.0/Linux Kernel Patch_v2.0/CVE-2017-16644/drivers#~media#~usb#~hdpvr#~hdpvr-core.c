diff --git a/drivers/media/usb/hdpvr/hdpvr-core.c b/drivers/media/usb/hdpvr/hdpvr-core.c
index dbe29c6..1e8cbaf 100644
--- a/drivers/media/usb/hdpvr/hdpvr-core.c
+++ b/drivers/media/usb/hdpvr/hdpvr-core.c
@@ -292,7 +292,7 @@
 static int hdpvr_probe(struct usb_interface *interface,
-		goto error;
+		goto error_free_dev;
@@ -301,7 +301,7 @@
 static int hdpvr_probe(struct usb_interface *interface,
-		goto error;
+		goto error_v4l2_unregister;
@@ -339,13 +339,13 @@
 static int hdpvr_probe(struct usb_interface *interface,
-		goto error;
+		goto error_put_usb;
-		goto error;
+		goto error_put_usb;
@@ -353,7 +353,7 @@
 static int hdpvr_probe(struct usb_interface *interface,
-		goto error;
+		goto error_put_usb;
@@ -361,7 +361,7 @@
 static int hdpvr_probe(struct usb_interface *interface,
-		goto error;
+		goto error_free_buffers;
@@ -394,13 +394,17 @@
 static int hdpvr_probe(struct usb_interface *interface,
+error_free_buffers:
+	hdpvr_free_buffers(dev);
+error_put_usb:
+	usb_put_dev(dev->udev);
+	kfree(dev->usbc_buf);
+error_v4l2_unregister:
+	v4l2_device_unregister(&dev->v4l2_dev);
+error_free_dev:
+	kfree(dev);
-	if (dev) {
-		flush_work(&dev->worker);
-		/* this frees allocated memory */
-		hdpvr_delete(dev);
-	}
